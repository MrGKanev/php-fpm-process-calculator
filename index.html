<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Security Headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self' data:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self';">

  <!-- SEO Meta Tags -->
  <meta name="description" content="PHP-FPM Process Calculator for optimizing PHP pool settings and Nginx configurations. Calculate optimal pm.max_children, pm.start_servers, and other PHP-FPM settings based on your server's RAM.">
  <meta name="keywords" content="PHP, PHP-FPM, Nginx, Process Calculator, Server Optimization, RAM, Tutorials, pm.max_children, OPcache, realpath_cache">
  <meta name="author" content="Gabriel Kanev">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://mrgkanev.github.io/php-fpm-process-calculator/">

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="PHP-FPM Process Calculator - Optimize Your Server">
  <meta property="og:description" content="Calculate optimal PHP-FPM pool settings based on your server's RAM. Free tool for optimizing PHP performance.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mrgkanev.github.io/php-fpm-process-calculator/">
  <meta property="og:site_name" content="PHP-FPM Process Calculator">
  <meta property="og:locale" content="en_US">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="PHP-FPM Process Calculator">
  <meta name="twitter:description" content="Calculate optimal PHP-FPM pool settings based on your server's RAM.">
  <meta name="twitter:creator" content="@MrGKanev">

  <!-- Favicon and App Icons -->
  <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg">
  <link rel="apple-touch-icon" href="./assets/icon.svg">
  <meta name="theme-color" content="#3B82F6" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#1E40AF" media="(prefers-color-scheme: dark)">

  <title>PHP-FPM Process Calculator - Optimize Your Server Settings</title>

  <!-- Stylesheet -->
  <link href="./assets/style.min.css" rel="stylesheet" type="text/css">
</head>

<body class="bg-gray-100 dark:bg-gray-900 transition-colors">
  <!-- Skip Navigation Link -->
  <a href="#calculator-form" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-md">
    Skip to calculator
  </a>

  <div class="container mx-auto p-6">
    <!-- Dark Mode Toggle -->
    <div class="flex justify-end mb-4">
      <button id="dark-mode-toggle" class="px-4 py-2 bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-900 rounded-md transition-colors hover:bg-gray-700 dark:hover:bg-gray-300 flex items-center gap-2">
        <svg id="icon-sun" class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
        </svg>
        <svg id="icon-moon" class="w-5 h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
          <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
        </svg>
        <span id="dark-mode-text">Dark Mode</span>
      </button>
    </div>
    <div class="flex flex-wrap -mx-3">
      <div class="w-full md:w-2/3 px-3">
        <!-- Pool Management Section -->
        <div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8 mb-6">
          <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">PHP-FPM Pool Management</h2>
          <div class="flex justify-between items-center mb-4 flex-wrap gap-2">
            <div class="flex gap-2">
              <button id="add-pool"
                class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors">
                Add New Pool
              </button>
              <button id="export-settings"
                class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors">
                Export Settings
              </button>
              <button id="import-settings"
                class="px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-md transition-colors">
                Import Settings
              </button>
              <input type="file" id="import-file" accept=".json" class="hidden">
            </div>
            <div>
              <select id="current-pool" class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white">
                <option value="www">www (default)</option>
              </select>
            </div>
          </div>
          <div id="pool-name-container" class="mb-4 hidden">
            <label for="pool-name" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">Pool Name</label>
            <div class="flex">
              <input id="pool-name" type="text" class="flex-grow px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-l-md dark:bg-gray-700 dark:text-white">
              <button id="save-pool-name" class="px-4 py-2 bg-green-500 text-white rounded-r-md flex items-center">
                Save
              </button>
            </div>
          </div>
        </div>

        <div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8 mb-6" aria-labelledby="calculator-heading">
          <h1 id="calculator-heading" class="text-3xl font-bold text-gray-800 dark:text-white mb-6 text-center">PHP-FPM Process
            Calculator</h1>
          <div id="current-pool-name" class="text-lg font-medium text-center mb-4 text-blue-800 dark:text-blue-400">
            Current Pool: www (default)
          </div>

          <!-- Warning Alert Container -->
          <div id="warning-container" class="mb-6 hidden">
            <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded">
              <div class="flex">
                <div class="flex-shrink-0">
                  <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div class="ml-3">
                  <h3 class="text-sm font-medium text-yellow-800 dark:text-yellow-200">Configuration Warnings</h3>
                  <div id="warning-list" class="mt-2 text-sm text-yellow-700 dark:text-yellow-300">
                    <ul class="list-disc list-inside space-y-1"></ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <form id="calculator-form">
            <!-- Mobile-First Approach for Sliders and Inputs -->
            <div class="mb-8">
              <div class="flex flex-col md:flex-row md:items-center justify-between mb-2">
                <label for="ram-total" class="text-lg font-medium text-gray-700 dark:text-gray-300 mb-2 md:mb-0">Total RAM (GB)</label>
                <div class="relative w-full md:w-36 h-10">
                  <input id="ram-total-val" type="number" min="1" max="512" step="1" value="4"
                    class="absolute top-0 left-0 w-full h-full text-blue-800 dark:text-blue-400 text-center border dark:border-gray-600 rounded-md pl-4 pr-4 dark:bg-gray-700"
                    aria-labelledby="ram-total-label">
                  <div class="absolute top-0 right-0 bottom-0 flex items-center pr-2 pointer-events-none">
                    <span class="text-gray-500 dark:text-gray-400">GB</span>
                  </div>
                </div>
              </div>
              <input id="ram-total" name="ram-total" type="range" min="1" max="512" step="1" value="4"
                aria-labelledby="ram-total-label"
                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
            </div>

            <div class="mb-8">
              <div class="flex flex-col md:flex-row md:items-center justify-between mb-2">
                <label for="ram-reserved" class="text-lg font-medium text-gray-700 mb-2 md:mb-0">Reserved RAM
                  (GB)</label>
                <div class="relative w-full md:w-36 h-10">
                  <input id="ram-reserved-val" type="number" min="0.25" max="512" step="0.25" value="1"
                    class="absolute top-0 left-0 w-full h-full text-blue-800 text-center border rounded-md pl-4 pr-4"
                    aria-labelledby="ram-reserved-label">
                  <div class="absolute top-0 right-0 bottom-0 flex items-center pr-2 pointer-events-none">
                    <span class="text-gray-500">GB</span>
                  </div>
                </div>
              </div>
              <input id="ram-reserved" name="ram-reserved" type="range" min="0.25" max="512" step="0.25" value="1"
                aria-labelledby="ram-reserved-label"
                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
            </div>

            <div class="mb-8">
              <div class="flex flex-col md:flex-row md:items-center justify-between mb-2">
                <label for="ram-buffer" class="text-lg font-medium text-gray-700 mb-2 md:mb-0">RAM Buffer</label>
                <div class="relative w-full md:w-36 h-10">
                  <input id="ram-buffer-val" type="number" min="0" max="100" step="1" value="10"
                    class="absolute top-0 left-0 w-full h-full text-blue-800 text-center border rounded-md pl-4 pr-4"
                    aria-labelledby="ram-buffer-label">
                  <div class="absolute top-0 right-0 bottom-0 flex items-center pr-2 pointer-events-none">
                    <span class="text-gray-500">%</span>
                  </div>
                </div>
              </div>
              <input id="ram-buffer" name="ram-buffer" type="range" min="0" max="100" step="1" value="10"
                aria-labelledby="ram-buffer-label"
                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
            </div>

            <div class="mb-8">
              <div class="flex flex-col md:flex-row md:items-center justify-between mb-2">
                <label for="process-size" class="text-lg font-medium text-gray-700 mb-2 md:mb-0">Process Size</label>
                <div class="relative w-full md:w-36 h-10">
                  <input id="process-size-val" type="number" min="1" max="1024" step="1" value="32"
                    class="absolute top-0 left-0 w-full h-full text-blue-800 text-center border rounded-md pl-4 pr-4"
                    aria-labelledby="process-size-label">
                  <div class="absolute top-0 right-0 bottom-0 flex items-center pr-2 pointer-events-none">
                    <span class="text-gray-500">MB</span>
                  </div>
                </div>
              </div>
              <input id="process-size" name="process-size" type="range" min="1" max="1024" step="1" value="32"
                aria-labelledby="process-size-label"
                class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
            </div>

            <!-- Additional PHP-FPM Parameters -->
            <div class="mb-8">
              <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">Additional PHP-FPM Parameters</h3>
              <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-md border border-gray-200 dark:border-gray-600">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label for="max-requests" class="block text-sm font-medium text-gray-600 mb-1">
                      <a href="https://www.php.net/manual/en/install.fpm.configuration.php#pm.max-requests"
                        class="text-blue-800" target="_blank">pm.max_requests</a>
                    </label>
                    <div class="flex">
                      <input id="max-requests" name="max-requests" type="number" min="0" value="0"
                        class="flex-grow px-4 py-2 border border-gray-300 rounded-md">
                      <div class="text-xs text-gray-500 mt-1">0 = unlimited</div>
                    </div>
                  </div>

                  <div>
                    <label for="process-idle-timeout" class="block text-sm font-medium text-gray-600 mb-1">
                      <a href="https://www.php.net/manual/en/install.fpm.configuration.php#pm.process-idle-timeout"
                        class="text-blue-800" target="_blank">pm.process_idle_timeout</a>
                    </label>
                    <div class="flex">
                      <input id="process-idle-timeout" name="process-idle-timeout" type="number" min="1" value="10"
                        class="flex-grow px-4 py-2 border border-gray-300 rounded-md">
                      <span class="px-3 py-2 bg-gray-200 text-gray-700 rounded-r-md flex items-center">s</span>
                    </div>
                  </div>

                  <div>
                    <label for="max-spawn-rate" class="block text-sm font-medium text-gray-600 mb-1">
                      <a href="https://www.php.net/manual/en/install.fpm.configuration.php#pm.max-spawn-rate"
                        class="text-blue-800" target="_blank">pm.max_spawn_rate</a>
                    </label>
                    <input id="max-spawn-rate" name="max-spawn-rate" type="number" min="1" value="32"
                      class="w-full px-4 py-2 border border-gray-300 rounded-md">
                  </div>

                  <div>
                    <label for="status-path" class="block text-sm font-medium text-gray-600 mb-1">
                      <a href="https://www.php.net/manual/en/install.fpm.configuration.php#pm.status-path"
                        class="text-blue-800" target="_blank">pm.status_path</a>
                    </label>
                    <input id="status-path" name="status-path" type="text" value="/status"
                      class="w-full px-4 py-2 border border-gray-300 rounded-md">
                  </div>
                </div>
              </div>
            </div>

            <!-- Results Section - Mobile-First Approach -->
            <div class="mb-8">
              <div class="p-4 border-l-4 border-blue-500 bg-blue-50 dark:bg-blue-900/20 rounded-md">
                <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">Calculated Results</h3>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                    <label for="ram-available" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">Available
                      RAM</label>
                    <div class="flex">
                      <input id="ram-available" name="ram-available" type="text" readonly aria-readonly="true"
                        class="flex-grow px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-l-md bg-gray-100 dark:bg-gray-700 font-bold text-blue-800 dark:text-blue-400"
                        aria-labelledby="ram-available-label">
                      <span class="px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-r-md flex items-center">GB</span>
                    </div>
                  </div>

                  <div>
                    <label for="ram-available-mb" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">Available
                      RAM</label>
                    <div class="flex">
                      <input id="ram-available-mb" name="ram-available-mb" type="text" readonly aria-readonly="true"
                        class="flex-grow px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-l-md bg-gray-100 dark:bg-gray-700 font-bold text-blue-800 dark:text-blue-400"
                        aria-labelledby="ram-available-mb-label">
                      <span class="px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-r-md flex items-center">MB</span>
                    </div>
                  </div>

                  <div>
                    <label for="concurrent-users" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">
                      Est. Concurrent Users
                      <span class="inline-block ml-1 text-gray-400 cursor-help" title="Estimated concurrent users assuming 1 request per user with 1 second average response time">ⓘ</span>
                    </label>
                    <div class="flex">
                      <input id="concurrent-users" name="concurrent-users" type="text" readonly aria-readonly="true"
                        class="flex-grow px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 font-bold text-green-700 dark:text-green-400"
                        aria-labelledby="concurrent-users-label">
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- PHP-FPM Settings - Mobile-First Approach -->
            <div class="mb-8">
              <div class="p-4 border-l-4 border-green-500 bg-green-50 dark:bg-green-900/20 rounded-md">
                <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">PHP-FPM Settings</h3>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label for="max-children" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">
                      <a href="https://www.php.net/manual/en/install.fpm.configuration.php#pm.max-children"
                        class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">pm.max_children</a>
                    </label>
                    <input id="max-children" name="max-children" type="text" readonly aria-readonly="true"
                      class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 font-bold text-green-700 dark:text-green-400"
                      aria-labelledby="max-children-label">
                  </div>

                  <div>
                    <label for="start-servers" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">
                      <a href="https://www.php.net/manual/en/install.fpm.configuration.php#pm.start-servers"
                        class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">pm.start_servers</a>
                    </label>
                    <input id="start-servers" name="start-servers" type="text" readonly aria-readonly="true"
                      class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 font-bold text-green-700 dark:text-green-400"
                      aria-labelledby="start-servers-label">
                  </div>

                  <div>
                    <label for="min-spare" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">
                      <a href="https://www.php.net/manual/en/install.fpm.configuration.php#pm.min-spare-servers"
                        class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">pm.min_spare_servers</a>
                    </label>
                    <input id="min-spare" name="min-spare" type="text" readonly aria-readonly="true"
                      class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 font-bold text-green-700 dark:text-green-400"
                      aria-labelledby="min-spare-label">
                  </div>

                  <div>
                    <label for="max-spare" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">
                      <a href="https://www.php.net/manual/en/install.fpm.configuration.php#pm.max-spare-servers"
                        class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">pm.max_spare_servers</a>
                    </label>
                    <input id="max-spare" name="max-spare" type="text" readonly aria-readonly="true"
                      class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 font-bold text-green-700 dark:text-green-400"
                      aria-labelledby="max-spare-label">
                  </div>
                </div>
              </div>
            </div>

            <!-- Advanced Calculators -->
            <div class="mb-8">
              <div class="p-4 border-l-4 border-purple-500 bg-purple-50 dark:bg-purple-900/20 rounded-md">
                <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">Advanced Metrics</h3>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label for="memory-leak-impact" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">
                      Memory Leak Impact
                      <span class="inline-block ml-1 text-gray-400 cursor-help" title="Time until server runs out of memory with a 1MB/hour per process memory leak">ⓘ</span>
                    </label>
                    <input id="memory-leak-impact" type="text" readonly
                      class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 font-bold text-purple-700 dark:text-purple-400">
                  </div>

                  <div>
                    <label for="burst-capacity" class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1">
                      Burst Traffic Capacity
                      <span class="inline-block ml-1 text-gray-400 cursor-help" title="Maximum requests per second your configuration can handle">ⓘ</span>
                    </label>
                    <input id="burst-capacity" type="text" readonly
                      class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 font-bold text-purple-700 dark:text-purple-400">
                  </div>
                </div>
              </div>
            </div>
            <!-- Copy/Paste Area - Mobile-First Approach -->
            <div class="mb-8">
              <div class="p-4 border-l-4 border-blue-500 bg-gray-50 rounded-md">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4">
                  <label for="copyPasteArea" class="text-lg font-bold text-gray-800">PHP Pool Settings / Tuning</label>
                  <button id="buttonCopy" type="button"
                    class="mt-2 md:mt-0 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20"
                      fill="currentColor">
                      <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                      <path
                        d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                    </svg>
                    Copy to Clipboard
                  </button>
                </div>
                <div class="bg-gray-800 rounded-md p-4 text-white font-mono text-sm overflow-x-auto">
                  <pre id="codePreview" class="whitespace-pre"></pre>
                </div>
                <textarea id="copyPasteArea" name="copyPasteArea" rows="4" aria-readonly="true" class="hidden w-full"
                  aria-labelledby="copyPasteArea-label"></textarea>
              </div>
            </div>
          </form>
        </div>

        <!-- FAQ Section with Accordion-style Display -->
      <!-- FAQ Section with Accordion-style Display -->
      <div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8 mt-6">
        <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6">FAQ: PHP-FPM Process Calculator</h2>
      
        <!-- FAQ Accordion -->
        <div id="faqAccordion" class="space-y-4">
          <!-- FAQ Item 1 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>What is PHP-FPM?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">PHP-FPM (FastCGI Process Manager) is an alternative PHP FastCGI implementation
                with some additional features useful for sites of any size, especially busier sites.</p>
            </div>
          </div>
      
          <!-- FAQ Item 2 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>Why is process calculation important?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">Proper process calculation ensures optimal use of server resources, improves
                performance, and prevents issues like memory exhaustion.</p>
            </div>
          </div>
      
          <!-- FAQ Item 3 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>How do I implement these settings?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">These settings can be applied in your php-fpm.conf file or the pool
                configuration file, typically located in /etc/php/8.x/fpm/pool.d/www.conf (path may vary based on your
                setup).</p>
            </div>
          </div>
      
          <!-- FAQ Item 4 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>What if my site's traffic fluctuates?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">Consider using the dynamic pm mode, which allows PHP-FPM to adjust the number
                of child processes based on the current load.</p>
            </div>
          </div>
      
          <!-- FAQ Item 5 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>Can I use these settings for all environments?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">While these calculations provide an excellent starting point, it's important to
                test and adjust based on your specific environment and application needs.</p>
            </div>
          </div>
      
          <!-- FAQ Item 6 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>What does 'pm.max_children' represent?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">pm.max_children sets the maximum number of child processes that can be created
                to serve requests. It's crucial for controlling server resource usage.</p>
            </div>
          </div>
      
          <!-- FAQ Item 7 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>How do 'pm.start_servers', 'pm.min_spare_servers', and 'pm.max_spare_servers' work
                together?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">These settings work together to manage the number of idle processes.
                pm.start_servers sets the number of child processes created on startup, while pm.min_spare_servers and
                pm.max_spare_servers define the minimum and maximum number of idle child processes.</p>
            </div>
          </div>
      
          <!-- FAQ Item 8 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>What is the significance of the RAM buffer?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">The RAM buffer is a safety margin to prevent your server from using all
                available RAM. It helps ensure system stability and provides room for other OS/processes.</p>
            </div>
          </div>
      
          <!-- FAQ Item 9 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>How often should I review and adjust these settings?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">It's recommended to review your PHP-FPM settings regularly, especially after
                significant changes in traffic patterns or server resources. Monthly or quarterly reviews are common
                practices.</p>
            </div>
          </div>
      
          <!-- FAQ Item 10 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>Can this calculator be used for other server configurations besides PHP-FPM?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">While this calculator is specifically designed for PHP-FPM, the general
                principles of resource allocation can be applied to other server configurations. However, the specific
                settings and terminologies may differ.</p>
            </div>
          </div>
      
          <!-- FAQ Item 11 -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>How does PHP-FPM differ from traditional PHP CGI?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">PHP-FPM offers better performance and more granular control over process
                management compared to traditional PHP CGI. It allows for better resource utilization and can handle
                high-traffic situations more efficiently.</p>
            </div>
          </div>
      
          <!-- FAQ Item 12 - NEW -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>What is the difference between dynamic and static PM modes?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">Dynamic mode adjusts the number of PHP-FPM processes based on demand, which is good for
                variable traffic. Static mode maintains a fixed number of processes at all times, providing better performance
                for high-traffic sites at the cost of higher resource usage.</p>
            </div>
          </div>
      
          <!-- FAQ Item 13 - NEW -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>What is realpath_cache and why is it important?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">The realpath cache stores the real file paths of files that PHP opens, avoiding the
                need for repeated file system lookups. Properly sizing this cache significantly improves performance,
                especially for applications with many included files like WordPress or frameworks.</p>
            </div>
          </div>
      
          <!-- FAQ Item 14 - NEW -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>Why is OPcache important for PHP performance?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">OPcache improves PHP performance by storing precompiled script bytecode in memory,
                eliminating the need for PHP to load and parse scripts on each request. This can result in a 30-70%
                performance improvement depending on your application.</p>
            </div>
          </div>
      
          <!-- FAQ Item 15 - NEW -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>How does pm.max_requests help with memory leaks?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">The pm.max_requests setting defines the number of requests each child process should
                execute before respawning. This helps mitigate memory leaks in PHP applications by periodically refreshing
                processes, preventing them from growing too large over time.</p>
            </div>
          </div>
      
          <!-- FAQ Item 16 - NEW -->
          <div class="faq-item border border-gray-200 rounded-md overflow-hidden">
            <button
              class="faq-question w-full text-left p-4 bg-gray-50 hover:bg-gray-100 flex justify-between items-center font-medium text-gray-700 focus:outline-none">
              <span>Should I set memory_limit to the same value as process size?</span>
              <svg class="faq-arrow w-5 h-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer hidden p-4 bg-white border-t border-gray-200">
              <p class="text-gray-600">Yes, it's good practice to set the memory_limit to match your estimated process size.
                This ensures PHP processes don't use more memory than you've planned for in your calculations, preventing
                potential server instability.</p>
            </div>
          </div>
        </div>
      </div>

      </div>
      <div class="w-full md:w-1/3 px-3">
        <div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8 mb-10">
          <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center">PHP Tutorials</h2>
          <ul class="list-disc pl-5 mb-8">
            <li><a href="https://www.php.net/manual/en/" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">PHP Manual</a></li>
            <li><a href="https://www.w3schools.com/php/" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">PHP Tutorial on W3Schools</a></li>
            <li><a href="https://www.tutorialspoint.com/php/index.htm" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">PHP Tutorial on
                TutorialsPoint</a></li>
            <li><a href="https://www.udemy.com/course/php-for-beginners/" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">PHP for Beginners on
                Udemy</a></li>
            <li><a href="https://laracasts.com/series/php-for-beginners" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">PHP for Beginners on
                Laracasts</a></li>
          </ul>
          <h2 id="php-hosting" class="text-2xl font-bold text-gray-800 dark:text-white mb-6 mt-8 text-center">PHP Hosting Providers</h2>
          <ul class="list-disc pl-5">
            <li><a href="https://hetzner.cloud/?ref=ATefpTv4euEL" class="text-blue-800 dark:text-blue-400" rel="noopener noreferrer" target="_blank">Hetzner</a></li>
            <!-- <li><a href="https://www.digitalocean.com" class="text-blue-800">Digitalocean</a></li>
              <li><a href="https://www.inmotionhosting.com" class="text-blue-800">InMotion Hosting</a></li> -->
          </ul>
        </div>

        <div class="bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8 mb-10">
          <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center">Performance Monitoring</h2>

          <div class="mb-4">
            <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2">Key Metrics to Monitor</h3>
            <ul class="list-disc pl-5 text-sm text-gray-600 dark:text-gray-400 space-y-1">
              <li>PHP-FPM pool status (active/idle/total processes)</li>
              <li>Memory usage per process</li>
              <li>Request queue length</li>
              <li>Slow request count</li>
              <li>Request duration (avg/p95/p99)</li>
              <li>OPcache memory usage and hit rate</li>
            </ul>
          </div>

          <div class="mb-4">
            <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2">Monitoring Tools</h3>
            <ul class="list-disc pl-5 mb-4">
              <li><a href="https://www.netdata.cloud/" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">Netdata</a> - Real-time monitoring</li>
              <li><a href="https://www.zabbix.com/" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">Zabbix</a> - Enterprise monitoring</li>
              <li><a href="https://prometheus.io/" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">Prometheus</a> - Metrics collection</li>
              <li><a href="https://grafana.com/" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">Grafana</a> - Visualization</li>
            </ul>
          </div>

          <div>
            <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2">How to Monitor</h3>
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Access PHP-FPM status page:</p>
            <code class="block bg-gray-800 text-gray-100 p-2 rounded text-xs overflow-x-auto">
              curl http://localhost/status?full&json
            </code>
          </div>
        </div>

        <footer class="text-center text-gray-500 dark:text-gray-400 text-sm mt-8">
          © Author <a href="https://gkanev.com" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">Gabriel Kanev</a>,
          <script>document.write(new Date().getFullYear());</script> | <a
            href="https://github.com/MrGKanev/php-fpm-process-calculator" class="text-blue-800 dark:text-blue-400" target="_blank" rel="noopener noreferrer">Check out the source
            code</a>
        </footer>
      </div>
    </div>
  </div>
  <script src="./assets/script.js"></script>
</body>

</html>